var initCustomColorThemes=function(){var inited=!1,compiled=!1,$applyMinicolors=$("#btn-custom-theme");return b2.el.$customTheme=$("#custom-theme"),b2.el.$customTheme.length?compiled=!0:b2.el.$customTheme=$('<style id="custom-theme">'),$(".minicolors-custom").minicolors({position:"bottom right",dataUris:!1,control:"wheel",defaultValue:$(this).attr("data-default"),change:function(value,opacity){$(this).closest(".minicolors").find(".minicolors-panel").addClass("apply"),$("#custom-theme-demos-wrap").find(".custom-theme-repeat").addClass("hidden")},show:function(){$applyMinicolors.removeClass("hide")},hide:function(){$applyMinicolors.addClass("hide")}}).closest(".minicolors").append($applyMinicolors),function(){if(inited)return!0;if(inited=!0,"undefined"==typeof Sass)return console.log("sass is not loaded"),!1;var sass=new Sass(b2.s.sassWorkerUrl),base="../../../scss",directory="",filesCombined=["_theme-combined_skew.scss","_theme-combined_flat.scss"],newStyles=[],sassCombinedStyle="";sass.preloadFiles(base,"",filesCombined,function(){sass.readFile(filesCombined,function(result){for(var i=0;i<filesCombined.length;i++)newStyles[i]=result[filesCombined[i]]})});var makeThemeFromColor=function(value,callback){$("#btn-custom-theme, .btn-custom-theme-repeat").addClass("compile"),RZB2.themeColor=value;var type=$("[data-styling-type]").attr("data-styling-type"),color=tinycolor(value).toHsv(),newColor="\t\t\t\t$main-color-h:"+color.h+";\t\t\t\t$main-color-s:"+100*color.s+";\t\t\t\t$main-color-v:"+100*color.v+";";sassCombinedStyle=type,sass.compile(newColor+newStyles["skew"===type?0:1],function(result){result.text="string"==typeof result.text?result.text.replace(/select/g,"#NEED_REPLACE#"):result.text,b2.el.$customTheme.html(result.text),compiled=!0,$(window).trigger("customColorThemeCompiled",[result]),$("#btn-custom-theme, .btn-custom-theme-repeat").removeClass("compile"),"function"==typeof callback&&callback()})};$applyMinicolors.on("click",function(){$(this).hasClass("compile")||makeThemeFromColor($("input.minicolors-custom").val(),function(){$applyMinicolors.closest(".minicolors").find(".minicolors-panel").removeClass("apply"),setTimeout(function(){$applyMinicolors.closest(".minicolors").removeClass("minicolors-focus").find(".minicolors-panel").hide()},400)})}),$(".btn-custom-theme-repeat").on("click",function(){$(this).hasClass("compile")||makeThemeFromColor($("input.minicolors-custom").val(),function(){$("#custom-theme-demos-wrap .custom-theme-repeat").addClass("hidden")})}),compiled?sassCombinedStyle=$("[data-styling-type]").attr("data-styling-type"):setTimeout(function(){$applyMinicolors.trigger("click").closest(".minicolors").find(".minicolors-panel").addClass("apply")},1e3);var b2setStylingType=b2.set.stylingType;b2.set.stylingType=function(value){compiled&&$("#custom-theme-demos-wrap .custom-theme-repeat").toggleClass("hidden",value===sassCombinedStyle),"function"==typeof b2setStylingType&&b2setStylingType(value)}}}();