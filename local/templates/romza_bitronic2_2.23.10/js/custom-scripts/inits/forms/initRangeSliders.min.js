function initRangeSlider(slider,options){var $slider=$(slider),minValue=options.minValue,maxValue=options.maxValue,step=void 0===options.step?1:options.step,$inputLower=$slider.parent().find(".range-input-lower"),$inputUpper=$slider.parent().find(".range-input-upper"),startLower=void 0===options.startLower?minValue:options.startLower,startUpper=void 0===options.startUpper?maxValue:options.startUpper;function filterPips(value){return value===minValue||value===maxValue?1:2}if(noUiSlider.create(slider,{start:[startLower,startUpper],connect:!0,behaviour:"snap",step:step,range:{min:minValue,max:maxValue},format:wNumb(options.format),tooltips:!0,pips:{mode:options.pips.mode,values:options.pips.values,density:options.pips.density,filter:filterPips}}).on("update",function(values,handle){handle?$inputUpper.val(values[handle]):$inputLower.val(values[handle])}),$inputLower.on("change",function(e){slider.noUiSlider.set([this.value,null])}),$inputUpper.on("change",function(e){slider.noUiSlider.set([null,this.value])}),$slider.find(".noUi-handle").append('<div class="noUi-arrow"></div>'),$slider.data("range",{min:minValue,max:maxValue}).data("format",options.format).find(".noUi-base").append('<div class="noUi-limiter base hidden"></div><div class="noUi-limiter top hidden"></div>'),options.limits){setRangeSliderLimits($slider,options.limits);var $limiter=$slider.find(".noUi-limiter.top"),format=wNumb(options.format),delta=maxValue-minValue;function updateTopLimiter(val){var limits=$slider.data("noUi-limits"),curLeft=format.from(val[0]),curRight=format.from(val[1]),leftLimitPercent=limits.leftPercent,rightLimitPercent=limits.rightPercent,newLeft=(curLeft-minValue)/delta*100,newRight=(maxValue-curRight)/delta*100;return newLeft<leftLimitPercent&&(newLeft=leftLimitPercent),newRight<rightLimitPercent&&(newRight=rightLimitPercent),newLeft>=99.5-rightLimitPercent?$limiter.addClass("hidden"):newRight>=100-leftLimitPercent?$limiter.addClass("hidden"):void $limiter.removeClass("hidden").css({left:newLeft+"%",right:newRight+"%"})}updateTopLimiter(slider.noUiSlider.get()),slider.noUiSlider.on("update",function(values,handle){updateTopLimiter(values)})}}function setRangeSliderLimits($slider,limits){var min=$slider.data("range").min,max=$slider.data("range").max,left=parseFloat(limits.left)||min,right=parseFloat(limits.right)||max;left>right&&(right=left),left<min&&(left=min),right>max&&(right=max),left>=max?(left=max,right=max):right<=min&&(right=min,left=min);var leftPercent=(left-min)/(max-min)*100,rightPercent=(max-right)/(max-min)*100,$limiter=$slider.find(".noUi-limiter.base");0===leftPercent&&0===rightPercent?$limiter.addClass("hidden"):$limiter.removeClass("hidden"),$slider.data("noUi-limits",{left:left,right:right,leftPercent:leftPercent,rightPercent:rightPercent}),$limiter.css({left:leftPercent+"%",right:rightPercent+"%"});var s=$slider.get(0).noUiSlider,v=s.get();s.set([v[0],v[1]])}function initRangeSliders(target){$(target).find(".range-slider.price-slider").each(function(){initRangeSlider(this,{minValue:0,maxValue:21e4,step:1,startLower:5e4,startUpper:15e4,limits:{left:2e4,right:12e4},format:{decimals:0,thousand:" "},pips:{mode:"values",values:[0,7e4,14e4,21e4],density:50}})}),$(target).find(".range-slider.screen").each(function(){initRangeSlider(this,{minValue:4,maxValue:12,step:.1,startLower:6,startUpper:9,format:{decimals:1,postfix:"â€³",mark:","},pips:{mode:"values",values:[4,6,8,10,12],density:50}})})}initRangeSliders(document);