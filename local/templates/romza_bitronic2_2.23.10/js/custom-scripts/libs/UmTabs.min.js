function UmTabs(tabs,opt){var t=this,$tabs=$(tabs);this.onChange=opt&&opt.onChange||function(){};var targetSelector=opt&&opt.targetSelector||null;if($tabs.length){var activeTab=$tabs.filter(".active"),activeIndex=activeTab.index();activeTab.length>1?(activeTab.removeClass("active"),activeTab=activeTab.eq(0).addClass("active")):0===activeTab.length&&(activeTab=$tabs.eq(0).addClass("active"),activeIndex=0);var targets=$();$tabs.each(function(i){targets=targetSelector?targets.add($($tabs.eq(i).find(targetSelector).attr("data-target")||$tabs.eq(i).find(targetSelector).attr("href"))):targets.add($($tabs.eq(i).attr("data-target")||$tabs.eq(i).attr("href")))}),targets.not(":eq("+activeIndex+")").hide().removeClass("shown");var activeTarget=targets.eq(activeIndex).show().addClass("shown");setTimeout(function(){t.onChange(activeTarget)},0),this.goTo=function(tar){activeTab.removeClass("active"),oldTarget=activeTarget,$.isNumeric(tar)?(activeIndex=tar,activeTab=$tabs.eq(index).addClass("active")):(activeIndex=$tabs.index(tar),activeTab=tar.addClass("active")),activeTarget=targets.eq(activeIndex),oldTarget.fadeOut(200,function(){$(this).removeClass("shown"),activeTarget.addClass("shown").fadeIn(300,function(){t.onChange(activeTarget)})})},this.getIndex=function(){return activeIndex},this.updateContent=function(){t.onChange(activeTarget)},$tabs.on("click.umTabs",function(e){var _=$(this);return!_.is(activeTab)&&(t.goTo(_),!1)}),this.destroy=function(){$tabs.off("click.umTabs"),activeTarget.removeClass("shown"),targets.css({display:""})}}}