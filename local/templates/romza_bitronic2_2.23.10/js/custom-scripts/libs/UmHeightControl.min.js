!function($){$.fn.heightControl=function(action,options){return this.each(function(){var that=this,$target=$(this);if($target.length){var $link=$target.parent().find(".height-toggle"),$content,heightLimit,contentHeight,resizeTimer;$content=options&&void 0!==typeof options.content?$target.find(options.content):$target,this.update=function(){$target.length&&($target.css("max-height",""),$target.addClass("minified"),heightLimit=parseInt($target.css("max-height"))+parseInt($target.css("padding-top"))+parseInt($target.css("padding-bottom"))||$target.parent().outerHeight(),(contentHeight=$content.get(0).scrollHeight)-heightLimit>0?($target.addClass("minified expandable").css("max-height",heightLimit),$link.show()):($target.removeClass("minified expandable"),$link.hide()),$link.off("click.heightControl").on("click.heightControl",function(e){return!!$target.length&&($target.hasClass("minified")?$target.removeClass("minified").css({"max-height":contentHeight}):$target.addClass("minified").css({"max-height":heightLimit}),!1)}))},this.destroy=function(){$link.off("click.heightControl").hide(),$target.css("max-height","").removeClass("minified")},action&&"update"!==action||this.update(),"destroy"===action&&this.destroy()}function resizeHandle(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){that.update(),$target.removeClass("minified").css("max-height",$target.get(0).scrollHeight)},250)}})}}(jQuery);