!function(t,e,n,o){function i(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function a(e,n){var a,r,s,c,u,h,l,d,v=e.type;if(e=t.Event(e),e.type=n,a=e.originalEvent,r=t.event.props,v.search(/^(mouse|click)/)>-1&&(r=P),a)for(l=r.length,c;l;)c=r[--l],e[c]=a[c];if(v.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==v.search(/^touch/)&&(s=i(a),v=s.touches,u=s.changedTouches,h=v&&v.length?v[0]:u&&u.length?u[0]:o))for(d=0,len=Y.length;len>d;d++)c=Y[d],e[c]=h[c];return e}function r(e){for(var n,o,i={};e;){n=t.data(e,k);for(o in n)n[o]&&(i[o]=i.hasVirtualBinding=!0);e=e.parentNode}return i}function s(e,n){for(var o;e;){if(o=t.data(e,k),o&&(!n||o[n]))return e;e=e.parentNode}return null}function c(){z=!1}function u(){z=!0}function h(){V=0,j.length=0,x=!1,u()}function l(){c()}function d(){v(),S=setTimeout(function(){S=0,h()},t.vmouse.resetTimerDuration)}function v(){S&&(clearTimeout(S),S=0)}function p(e,n,o){var i;return(o&&o[e]||!o&&s(n.target,e))&&(i=a(n,e),t(n.target).trigger(i)),i}function f(e){var n=t.data(e.target,y);if(!(x||V&&V===n)){var o=p("v"+e.type,e);o&&(o.isDefaultPrevented()&&e.preventDefault(),o.isPropagationStopped()&&e.stopPropagation(),o.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function g(e){var n,o,a=i(e).touches;if(a&&1===a.length&&(n=e.target,o=r(n),o.hasVirtualBinding)){V=Q++,t.data(n,y,V),v(),l(),N=!1;var s=i(e).touches[0];B=s.pageX,F=s.pageY,p("vmouseover",e,o),p("vmousedown",e,o)}}function m(t){z||(N||p("vmousecancel",t,r(t.target)),N=!0,d())}function b(e){if(!z){var n=i(e).touches[0],o=N,a=t.vmouse.moveDistanceThreshold;N=N||Math.abs(n.pageX-B)>a||Math.abs(n.pageY-F)>a,flags=r(e.target),N&&!o&&p("vmousecancel",e,flags),p("vmousemove",e,flags),d()}}function w(t){if(!z){u();var e,n=r(t.target);if(p("vmouseup",t,n),!N){var o=p("vclick",t,n);o&&o.isDefaultPrevented()&&(e=i(t).changedTouches[0],j.push({touchID:V,x:e.clientX,y:e.clientY}),x=!0)}p("vmouseout",t,n),N=!1,d()}}function T(e){var n,o=t.data(e,k);if(o)for(n in o)if(o[n])return!0;return!1}function D(){}function E(e){var n=e.substr(1);return{setup:function(){T(this)||t.data(this,k,{});var o=t.data(this,k);o[e]=!0,I[e]=(I[e]||0)+1,1===I[e]&&L.bind(n,f),t(this).bind(n,D),H&&(I.touchstart=(I.touchstart||0)+1,1===I.touchstart&&L.bind("touchstart",g).bind("touchend",w).bind("touchmove",b).bind("scroll",m))},teardown:function(){--I[e],I[e]||L.unbind(n,f),H&&(--I.touchstart,I.touchstart||L.unbind("touchstart",g).unbind("touchmove",b).unbind("touchend",w).unbind("scroll",m));var o=t(this),i=t.data(this,k);i&&(i[e]=!1),o.unbind(n,D),T(this)||o.removeData(k)}}}t.attrFn=t.attrFn||{};var k="virtualMouseBindings",y="virtualTouchID",X="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),Y="clientX clientY pageX pageY screenX screenY".split(" "),M=t.event.mouseHooks?t.event.mouseHooks.props:[],P=t.event.props.concat(M),I={},S=0,B=0,F=0,N=!1,j=[],x=!1,z=!1,H="addEventListener"in n,L=t(n),Q=1,V=0;t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var q=0;q<X.length;q++)t.event.special[X[q]]=E(X[q]);H&&n.addEventListener("click",function(e){var n,o,i,a,r,s,c=j.length,u=e.target;if(c)for(n=e.clientX,o=e.clientY,threshold=t.vmouse.clickDistanceThreshold,i=u;i;){for(a=0;c>a;a++)if(r=j[a],s=0,i===u&&Math.abs(r.x-n)<threshold&&Math.abs(r.y-o)<threshold||t.data(i,y)===r.touchID)return e.preventDefault(),void e.stopPropagation();i=i.parentNode}},!0)}(jQuery,window,document),function(t,e,n){function o(e,n,o){var i=o.type;o.type=n,t.event.dispatch.call(e,o),o.type=i}t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight".split(""),function(e,n){t.fn[n]=function(t){return t?this.bind(n,t):this.trigger(n)},t.attrFn[n]=!0}),t.event.special.tap={setup:function(){var e=this,n=t(e);n.bind("touchstart",function(i){function a(){clearTimeout(c)}function r(){a(),n.unbind("vclick",s).unbind("vmouseup",a),t(document).unbind("vmousecancel",r)}function s(t){r(),u==t.target&&o(e,"tap",t)}if(i.which&&1!==i.which)return!1;{var c,u=i.target;i.originalEvent}n.bind("vmouseup",a).bind("vclick",s),t(document).bind("vmousecancel",r),c=setTimeout(function(){o(e,"taphold",t.Event("taphold",{target:u}))},750)})}},t.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var e=this,o=t(e);o.bind("touchstart",function(e){function i(e){if(s){var n=e.originalEvent.touches?e.originalEvent.touches[0]:e;a={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(s.coords[0]-a.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault()}}var a,r=e.originalEvent.touches?e.originalEvent.touches[0]:e,s={time:(new Date).getTime(),coords:[r.pageX,r.pageY],origin:t(e.target)};o.bind("touchmove",i).one("touchend",function(){o.unbind("touchmove",i),s&&a&&a.time-s.time<t.event.special.swipe.durationThreshold&&Math.abs(s.coords[0]-a.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-a.coords[1])<t.event.special.swipe.verticalDistanceThreshold&&s.origin.trigger("swipe").trigger(s.coords[0]>a.coords[0]?"swipeleft":"swiperight"),s=a=n})})}},t.each({taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(e,n){t.event.special[e]={setup:function(){t(this).bind(n,t.noop)}}})}(jQuery,this);