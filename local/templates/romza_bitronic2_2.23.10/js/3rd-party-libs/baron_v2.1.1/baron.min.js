!function(window,undefined){"use strict";if(window){var $=window.$,_baron=baron,pos=["left","top","right","bottom","width","height"],instances=[],origin={v:{x:"Y",pos:pos[1],oppos:pos[3],crossPos:pos[0],crossOpPos:pos[2],size:pos[5],crossSize:pos[4],crossMinSize:"min-"+pos[4],crossMaxSize:"max-"+pos[4],client:"clientHeight",crossClient:"clientWidth",scrollEdge:"scrollLeft",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:pos[0],oppos:pos[2],crossPos:pos[1],crossOpPos:pos[3],size:pos[4],crossSize:pos[5],crossMinSize:"min-"+pos[5],crossMaxSize:"max-"+pos[5],client:"clientWidth",crossClient:"clientHeight",scrollEdge:"scrollTop",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},opera12maxScrollbarSize=17,macmsxffScrollbarSize=15,macosxffRe,isMacFF=/[\s\S]*Macintosh[\s\S]*\) Gecko[\s\S]*/.test(window.navigator.userAgent),log=function(){baron.fn.log.apply(this,arguments)},liveBarons=0,shownErrors={liveTooMany:!1,allTooMany:!1};baron._instances=instances,baron.fn={constructor:function(roots,totalParams,withParams){var params=clone(totalParams);params.event=function(elems,e,func,mode){arrayEach(elems,function(elem){totalParams.event(elem,e,func,mode)})},this.length=0,arrayEach.call(this,roots,function(root,i){var attr=manageAttr(root,params.direction),id=+attr;if(id==id&&attr!=undefined&&instances[id])withParams&&log("error",["repeated initialization for html-node detected","https://github.com/Diokuz/baron/blob/master/docs/logs/repeated.md"].join(", "),totalParams.root[0]),this[i]=instances[id];else{var perInstanceParams=clone(params);if(params.root&&params.scroller){if(perInstanceParams.scroller=params.$(params.scroller,root),!perInstanceParams.scroller.length)return void console.log("Scroller not found!",root,params.scroller)}else perInstanceParams.scroller=root;perInstanceParams.root=root,this[i]=init(perInstanceParams)}this.length=i+1}),this.params=params},dispose:function(){var params=this.params;arrayEach(this,function(instance,index){instance.dispose(params),instances[index]=null}),this.params=null},update:function(){var args=arguments;arrayEach(this,function(instance,index){instance.update.apply(instance,args)})},baron:function(params){return params.root=[],params.scroller=this.params.scroller,arrayEach.call(this,this,function(elem){params.root.push(elem.root)}),params.direction="v"==this.params.direction?"h":"v",params._chain=!0,baron(params)}};var item={};item.prototype={_debounce:function(func,wait){var self=this,timeout,timestamp,later=function(){if(self._disposed)return clearTimeout(timeout),void(timeout=self=null);var last=getTime()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,func())};return function(){timestamp=getTime(),timeout||(timeout=setTimeout(later,wait))}},constructor:function(params){var $,barPos,scrollerPos0,track,resizePauseTimer,scrollingTimer,scrollLastFire,resizeLastFire,oldBarSize;function getNode(sel,context){return $(sel,context)[0]}function setBarSize(size){var barMinSize=this.barMinSize||20;size>0&&size<barMinSize&&(size=barMinSize),this.bar&&$(this.bar).css(this.origin.size,parseInt(size,10)+"px")}function posBar(pos){if(this.bar){var was=$(this.bar).css(this.origin.pos),will=+pos+"px";will&&will!=was&&$(this.bar).css(this.origin.pos,will)}}function k(){return track[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function relToPos(r){return r*k.call(this)+this.barTopLimit}function posToRel(t){return(t-this.barTopLimit)/k.call(this)}function dontPosSelect(){return!1}if(resizeLastFire=scrollLastFire=getTime(),$=this.$=params.$,this.event=params.event,this.events={},this.root=params.root,this.scroller=getNode(params.scroller),this.bar=getNode(params.bar,this.root),track=this.track=getNode(params.track,this.root),!this.track&&this.bar&&(track=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=params.direction,this.rtl=params.rtl,this.origin=origin[this.direction],this.barOnCls=params.barOnCls||"_baron",this.scrollingCls=params.scrollingCls,this.draggingCls=params.draggingCls,this.impact=params.impact,this.barTopLimit=0,this.resizeDebounce=params.resizeDebounce,this.cursor=function(e){return e["client"+this.origin.x]||(((e.originalEvent||e).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(x){var ie="page"+this.origin.x+"Offset",key=this.scroller[ie]?ie:this.origin.scroll;return x!==undefined&&(this.scroller[key]=x),this.scroller[key]},this.rpos=function(r){var free=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client],x;return(x=r?this.pos(r*free):this.pos())/(free||1)},this.barOn=function(dispose){this.barOnCls&&(dispose||this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize]?$(this.root).hasClass(this.barOnCls)&&$(this.root).removeClass(this.barOnCls):$(this.root).hasClass(this.barOnCls)||$(this.root).addClass(this.barOnCls))},this._pos0=function(e){scrollerPos0=this.cursor(e)-barPos},this.drag=function(e){var rel=posToRel.call(this,this.cursor(e)-scrollerPos0),k=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];this.scroller[this.origin.scroll]=rel*k},this.selection=function(enable){this.event(document,"selectpos selectstart",dontPosSelect,enable?"off":"on")},this.resize=function(){var self=this,minPeriod=self.resizeDebounce===undefined?300:self.resizeDebounce,delay=0;function upd(){var was,will,offset=self.scroller[self.origin.crossOffset],client=self.scroller[self.origin.crossClient],padding=0;if(isMacFF?padding=macmsxffScrollbarSize:client>0&&0===offset&&(offset=client+opera12maxScrollbarSize),offset)if(self.barOn(),client=self.scroller[self.origin.crossClient],"scroller"==self.impact){var delta=offset-client+padding;(was=$(self.scroller).css(self.origin.crossSize))!=(will=self.clipper[self.origin.crossClient]+delta+"px")&&self._setCrossSizes(self.scroller,will)}else(was=$(self.clipper).css(self.origin.crossSize))!=(will=client+"px")&&self._setCrossSizes(self.clipper,will);Array.prototype.unshift.call(arguments,"resize"),fire.apply(self,arguments),resizeLastFire=getTime()}getTime()-resizeLastFire<minPeriod&&(clearTimeout(resizePauseTimer),delay=minPeriod),delay?resizePauseTimer=setTimeout(upd,delay):upd()},this.updatePositions=function(){var newBarSize,self=this;this.bar&&(newBarSize=(track[this.origin.client]-this.barTopLimit)*this.scroller[this.origin.client]/this.scroller[this.origin.scrollSize],parseInt(oldBarSize,10)!=parseInt(newBarSize,10)&&(setBarSize.call(this,newBarSize),oldBarSize=newBarSize),barPos=relToPos.call(this,this.rpos()),posBar.call(this,barPos)),Array.prototype.unshift.call(arguments,"scroll"),fire.apply(this,arguments),scrollLastFire=getTime()},this.scroll=function(){var self=this;self.updatePositions(),self.scrollingCls&&(scrollingTimer||self.$(self.root).addClass(self.scrollingCls),clearTimeout(scrollingTimer),scrollingTimer=setTimeout(function(){self.$(self.root).removeClass(self.scrollingCls),scrollingTimer=undefined},300))},this.clipperOnScroll=function(){this.rtl?this.clipper[this.origin.scrollEdge]=this.clipper[this.origin.scrollSize]:this.clipper[this.origin.scrollEdge]=0},this._setCrossSizes=function(node,size){var css={};css[this.origin.crossSize]=size,css[this.origin.crossMinSize]=size,css[this.origin.crossMaxSize]=size,this.$(node).css(css)},this._dumbCss=function(on){if(!params.cssGuru){var overflow=on?"hidden":null,msOverflowStyle=on?"none":null;this.$(this.clipper).css({overflow:overflow,msOverflowStyle:msOverflowStyle});var scroll=on?"scroll":null,axis,scrollerCss={};scrollerCss["overflow-"+("v"==this.direction?"y":"x")]=scroll,scrollerCss["box-sizing"]="border-box",scrollerCss.margin="0",scrollerCss.border="0",this.$(this.scroller).css(scrollerCss)}},this._dumbCss(!0),isMacFF){var padding="paddingRight",css={},paddingWas=window.getComputedStyle(this.scroller)[[padding]],delta=this.scroller[this.origin.crossOffset]-this.scroller[this.origin.crossClient];"h"==params.direction?padding="paddingBottom":params.rtl&&(padding="paddingLeft");var numWas=parseInt(paddingWas,10);numWas!=numWas&&(numWas=0),css[padding]=macmsxffScrollbarSize+numWas+"px",$(this.scroller).css(css)}return this},update:function(params){return this._disposed&&log("error",["Update on disposed baron instance detected.","You should clear your stored baron value for this instance:",this].join(" "),params),fire.call(this,"upd",params),this.resize(1),this.updatePositions(),this},dispose:function(params){this._disposed&&log("error",["Already disposed:",this].join(" "),params),liveBarons--,manageEvents(this,this.event,"off"),manageAttr(this.root,params.direction,"off"),"v"==params.direction?this._setCrossSizes(this.scroller,""):this._setCrossSizes(this.clipper,""),this._dumbCss(!1),this.barOn(!0),fire.call(this,"dispose"),this._disposed=!0},on:function(eventName,func,arg){for(var names=eventName.split(" "),i=0;i<names.length;i++)"init"==names[i]?func.call(this,arg):(this.events[names[i]]=this.events[names[i]]||[],this.events[names[i]].push(function(userArg){func.call(this,userArg||arg)}))}},baron.fn.constructor.prototype=baron.fn,item.prototype.constructor.prototype=item.prototype,baron.noConflict=function(){return window.baron=_baron,baron},baron.version="2.0.1",$&&$.fn&&($.fn.baron=baron),window.baron=baron,"undefined"!=typeof module&&(module.exports=baron.noConflict())}function baron(params){var jQueryMode,roots,withParams=!!params,defaultParams={$:window.jQuery,direction:"v",barOnCls:"_scrollbar",resizeDebounce:0,event:function(elem,event,func,mode){params.$(elem)[mode||"on"](event,func)},cssGuru:!1,impact:"scroller"};for(var key in params=params||{},defaultParams)params[key]===undefined&&(params[key]=defaultParams[key]);params.$||log("error",["no jQuery nor params.$ detected","https://github.com/Diokuz/baron/blob/master/docs/logs/no-jquery-detected.md"].join(", "),params),(jQueryMode=params.$&&this instanceof params.$)?params.root=roots=this:roots=params.$?params.$(params.root||params.scroller):[];var instance=new baron.fn.constructor(roots,params,withParams);return instance.autoUpdate&&instance.autoUpdate(),instance}function arrayEach(obj,iterator){var i=0;for(obj.length!==undefined&&obj!==window||(obj=[obj]);obj[i];)iterator.call(this,obj[i],i),i++}function getTime(){return(new Date).getTime()}function manageEvents(item,eventManager,mode){item._eventHandlers=item._eventHandlers||[{element:item.scroller,handler:function(e){item.scroll(e)},type:"scroll"},{element:item.root,handler:function(){item.update()},type:"transitionend animationend"},{element:item.scroller,handler:function(){item.update()},type:"keyup"},{element:item.bar,handler:function(e){e.preventDefault(),item.selection(),item.drag.now=1,item.draggingCls&&$(item.root).addClass(item.draggingCls)},type:"touchstart mousedown"},{element:document,handler:function(){item.selection(1),item.drag.now=0,item.draggingCls&&$(item.root).removeClass(item.draggingCls)},type:"mouseup blur touchend"},{element:document,handler:function(e){2!=e.button&&item._pos0(e)},type:"touchstart mousedown"},{element:document,handler:function(e){item.drag.now&&item.drag(e)},type:"mousemove touchmove"},{element:window,handler:function(){item.update()},type:"resize"},{element:item.root,handler:function(){item.update()},type:"sizeChange"},{element:item.clipper,handler:function(){item.clipperOnScroll()},type:"scroll"}],arrayEach(item._eventHandlers,function(event){event.element&&eventManager(event.element,event.type,event.handler,mode)})}function manageAttr(node,direction,mode,id){var attrName="data-baron-"+direction+"-id";if("on"==mode)node.setAttribute(attrName,id);else{if("off"!=mode)return node.getAttribute(attrName);node.removeAttribute(attrName)}}function init(params){var out=new item.prototype.constructor(params);return manageEvents(out,params.event,"on"),manageAttr(out.root,params.direction,"on",instances.length),instances.push(out),++liveBarons>100&&!shownErrors.liveTooMany&&(log("warning",["You have too many live baron instances on page ("+liveBarons+")!","Are you forget to dispose some of them?","All baron instances can be found in baron._instances:"].join(" "),instances),shownErrors.liveTooMany=!0),instances.length>1e3&&!shownErrors.allTooMany&&(log("warning",["You have too many inited baron instances on page ("+instances.length+")!","Some of them are disposed, and thats good news.","but baron.init was call too many times, and thats is bad news.","All baron instances can be found in baron._instances:"].join(" "),instances),shownErrors.allTooMany=!0),out.update(),out}function clone(input){var output={};for(var key in input=input||{})input.hasOwnProperty(key)&&(output[key]=input[key]);return output}function validate(input){var output=clone(input);return output.event=function(elems,e,func,mode){arrayEach(elems,function(elem){input.event(elem,e,func,mode)})},output}function fire(eventName){if(this.events&&this.events[eventName])for(var i=0;i<this.events[eventName].length;i++){var args=Array.prototype.slice.call(arguments,1);this.events[eventName][i].apply(this,args)}}}(window),function(window,undefined){var fix=function(userParams){var elements,viewPortSize,params={outside:"",inside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},topFixHeights=[],topRealHeights=[],headerTops=[],scroller=this.scroller,eventManager=this.event,$=this.$,self=this;function fixElement(i,pos,flag){var ori=1==flag?"pos":"oppos";viewPortSize<(params.minView||0)&&(pos=undefined),this.$(elements[i]).css(this.origin.pos,"").css(this.origin.oppos,"").removeClass(params.outside),pos!==undefined&&(pos+="px",this.$(elements[i]).css(this.origin[ori],pos).addClass(params.outside))}function bubbleWheel(e){try{i=document.createEvent("WheelEvent"),i.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),scroller.dispatchEvent(i),e.preventDefault()}catch(e){}}function init(_params){var pos;for(var key in _params)params[key]=_params[key];if(elements=this.$(params.elements,this.scroller)){viewPortSize=this.scroller[this.origin.client];for(var i=0;i<elements.length;i++)(pos={})[this.origin.size]=elements[i][this.origin.offset],elements[i].parentNode!==this.scroller&&this.$(elements[i].parentNode).css(pos),(pos={})[this.origin.crossSize]=elements[i].parentNode[this.origin.crossClient],this.$(elements[i]).css(pos),viewPortSize-=elements[i][this.origin.offset],headerTops[i]=elements[i].parentNode[this.origin.offsetPos],topFixHeights[i]=topFixHeights[i-1]||0,topRealHeights[i]=topRealHeights[i-1]||Math.min(headerTops[i],0),elements[i-1]&&(topFixHeights[i]+=elements[i-1][this.origin.offset],topRealHeights[i]+=elements[i-1][this.origin.offset]),0==i&&0==headerTops[i]||(this.event(elements[i],"mousewheel",bubbleWheel,"off"),this.event(elements[i],"mousewheel",bubbleWheel));params.limiter&&elements[0]&&(this.track&&this.track!=this.scroller?((pos={})[this.origin.pos]=elements[0].parentNode[this.origin.offset],this.$(this.track).css(pos)):this.barTopLimit=elements[0].parentNode[this.origin.offset],this.scroll()),!1===params.limiter&&(this.barTopLimit=0)}var event={element:elements,handler:function(){for(var parent,top=$(this)[0].parentNode.offsetTop,num,i=0;i<elements.length;i++)elements[i]===this&&(num=i);var pos=top-topFixHeights[num];params.scroll?params.scroll({x1:self.scroller.scrollTop,x2:pos}):self.scroller.scrollTop=pos},type:"click"};params.clickable&&(this._eventHandlers.push(event),eventManager(event.element,event.type,event.handler,"on"))}this.on("init",init,userParams);var fixFlag=[],gradFlag=[];this.on("init scroll",function(){var fixState,hTop,gradState;if(elements){for(var change,i=0;i<elements.length;i++)fixState=0,headerTops[i]-this.pos()<topRealHeights[i]+params.radius?(fixState=1,hTop=topFixHeights[i]):headerTops[i]-this.pos()>topRealHeights[i]+viewPortSize-params.radius?(fixState=2,hTop=this.scroller[this.origin.client]-elements[i][this.origin.offset]-topFixHeights[i]-viewPortSize):(fixState=3,hTop=undefined),gradState=!1,(headerTops[i]-this.pos()<topRealHeights[i]||headerTops[i]-this.pos()>topRealHeights[i]+viewPortSize)&&(gradState=!0),fixState==fixFlag[i]&&gradState==gradFlag[i]||(fixElement.call(this,i,hTop,fixState),fixFlag[i]=fixState,gradFlag[i]=gradState,change=!0);if(change)for(i=0;i<elements.length;i++)1==fixFlag[i]&&params.past&&this.$(elements[i]).addClass(params.past).removeClass(params.future),2==fixFlag[i]&&params.future&&this.$(elements[i]).addClass(params.future).removeClass(params.past),3==fixFlag[i]?((params.future||params.past)&&this.$(elements[i]).removeClass(params.past).removeClass(params.future),params.inside&&this.$(elements[i]).addClass(params.inside)):params.inside&&this.$(elements[i]).removeClass(params.inside),fixFlag[i]!=fixFlag[i+1]&&1==fixFlag[i]&&params.before?this.$(elements[i]).addClass(params.before).removeClass(params.after):fixFlag[i]!=fixFlag[i-1]&&2==fixFlag[i]&&params.after?this.$(elements[i]).addClass(params.after).removeClass(params.before):this.$(elements[i]).removeClass(params.before).removeClass(params.after),params.grad&&(gradFlag[i]?this.$(elements[i]).addClass(params.grad):this.$(elements[i]).removeClass(params.grad))}}),this.on("resize upd",function(updParams){init.call(this,updParams&&updParams.fix)})};baron.fn.fix=function(params){for(var i=0;this[i];)fix.call(this[i],params),i++;return this}}(window),function(window){var MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,autoUpdate=function(){var self=this,watcher;if(!this._au){var debouncedUpdater=self._debounce(function(){self.update()},300);this._observer=new MutationObserver(function(){actualizeWatcher(),self.update(),debouncedUpdater()}),this.on("init",function(){self._observer.observe(self.root,{childList:!0,subtree:!0,characterData:!0}),actualizeWatcher()}),this.on("dispose",function(){self._observer.disconnect(),stopWatch(),delete self._observer}),this._au=!0}function actualizeWatcher(){self.root[self.origin.offset]?stopWatch():startWatch()}function startWatch(){watcher||(watcher=setInterval(function(){self.root[self.origin.offset]&&(stopWatch(),self.update())},300))}function stopWatch(){clearInterval(watcher),watcher=null}};baron.fn.autoUpdate=function(params){if(!MutationObserver)return this;for(var i=0;this[i];)autoUpdate.call(this[i],params),i++;return this}}(window),function(window,undefined){var controls=function(params){var forward,backward,track,screen,self=this,event;screen=params.screen||.9,params.forward&&(event={element:forward=this.$(params.forward,this.clipper),handler:function(){var y=self.pos()+(params.delta||30);self.pos(y)},type:"click"},this._eventHandlers.push(event),this.event(event.element,event.type,event.handler,"on")),params.backward&&(event={element:backward=this.$(params.backward,this.clipper),handler:function(){var y=self.pos()-(params.delta||30);self.pos(y)},type:"click"},this._eventHandlers.push(event),this.event(event.element,event.type,event.handler,"on")),params.track&&(track=!0===params.track?this.track:this.$(params.track,this.clipper)[0])&&(event={element:track,handler:function(e){if(e.target==track){var x=e["offset"+self.origin.x],xBar=self.bar[self.origin.offsetPos],sign=0;x<xBar?sign=-1:x>xBar+self.bar[self.origin.offset]&&(sign=1);var y=self.pos()+sign*screen*self.scroller[self.origin.client];self.pos(y)}},type:"mousedown"},this._eventHandlers.push(event),this.event(event.element,event.type,event.handler,"on"))};baron.fn.controls=function(params){for(var i=0;this[i];)controls.call(this[i],params),i++;return this}}(window),baron.fn.log=function(level,msg,nodes){var time=(new Date).toString(),func=console[level],args=["Baron [ "+time.substr(16,8)+" ]: "+msg,nodes]};