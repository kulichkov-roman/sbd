b2.init.orderListPage=function(){var $form=$(".form_order-filter"),$clear=$form.find(".order-filter-reset"),$wrapper=$("#order-list"),spinner=RZB2.ajax.spinner($wrapper),$statusButtons=$("button.order-filter-small"),refresh=function(data){var trimData=[];$.each(data,function(index,obj){"value"in obj&&$.trim(obj.value).length>0&&trimData.push(obj)}),0==(data=trimData).length?($clear.attr("disabled",!0),$clear.addClass("disabled")):($clear.removeAttr("disabled"),$clear.removeClass("disabled")),spinner.Start({top:"30px"}),$.ajax({url:$form.attr("action"),data:data,success:function(msg){$wrapper.html(msg),spinner.Stop()}})},timer,$document;$form.length>0&&($form.on("submit",function(e){e.preventDefault();var data=$(this).serializeArray(),statusID=$statusButtons.filter(".active").data("status-id");return statusID&&data.push({name:"filter_status",value:statusID}),refresh(data),!1}),$form.on("change",function(e){if($(e.target).is("[type=text]"))return!1;$form.submit()}),$form.on("keyup","input[type=text]",function(e){if(13==e.keyCode)return!1;timer&&clearTimeout(timer),timer=setTimeout(function(){$form.submit()},500)}));$(document).on("click",".order-filter-reset",function(e){e.preventDefault(),$form[0].reset(),$statusButtons.each(function(){var $this=$(this);$this.data("status-id")?$this.removeClass("active"):$this.addClass("active")}),refresh([])}),$statusButtons.on("click",function(){var $this=$(this);if($this.hasClass("active"))return!1;$this.parent().find("button.order-filter-small").removeClass("active"),$this.addClass("active");var data=$form.serializeArray();$this.data("status-id")&&data.push({name:"filter_status",value:$this.data("status-id")}),refresh(data)}),$(".switch-order-content").click(function(){var tr=$(this).closest("tr"),content=tr.children(".order-content, .order-payment-n-delivery-types");tr.hasClass("shown")?content.velocity("slideUp","fast",function(){tr.removeClass("shown")}):content.velocity("slideDown",{duration:"fast",display:"block",complete:function(){tr.addClass("shown")}}),tr.find("").slideToggle("fast",function(){tr.toggleClass("shown")})})};